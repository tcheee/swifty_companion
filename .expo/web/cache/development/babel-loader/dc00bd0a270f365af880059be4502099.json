{"ast":null,"code":"var _jsxFileName = \"/Users/tche/Documents/swifty_companion/screens/login.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { globalStyles } from \"../styles/global\";\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Linking from 'expo-linking';\nimport FlatButton from \"../shared/button.js\";\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n  var app_url = 'exp://10.18.205.228:19000';\n  var client_id = 'c0d296f87ad3d2fd9c1980da5f055fb4ee7fae41830be1f5d6985bea22b84a36';\n  var url = 'https://api.intra.42.fr/oauth/authorize?client_id=' + client_id + '&redirect_uri=' + app_url + '&response_type=code';\n\n  var handleLogin = function handleLogin() {\n    return _regeneratorRuntime.async(function handleLogin$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(url);\n            WebBrowser.openBrowserAsync(url);\n            Linking.addEventListener('url', function (event) {\n              var data = Linking.parse(event.url);\n              var code = data.queryParams.code;\n              console.log(code);\n              WebBrowser.dismissBrowser();\n              navigation.navigate('Home', {\n                code: code\n              });\n            });\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(ImageBackground, {\n    source: require(\"../assets/background.jpeg\"),\n    style: styles.background,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: globalStyles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles.loginButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 21\n    }\n  }, React.createElement(Image, {\n    source: require(\"../assets/42_Logo.png\"),\n    style: styles.headerImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 25\n    }\n  }), React.createElement(Text, {\n    style: styles.loginButtonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 25\n    }\n  }, \"Login\")))));\n}\nvar styles = StyleSheet.create({\n  background: {\n    width: '100%',\n    height: '100%'\n  },\n  loginButton: {\n    borderRadius: 8,\n    paddingVertical: 14,\n    paddingHorizontal: 10,\n    backgroundColor: '#00AFB1',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 200,\n    flexDirection: 'row'\n  },\n  loginButtonText: {\n    color: 'white',\n    fontWeight: 'bold',\n    textTransform: 'uppercase',\n    fontSize: 16,\n    textAlign: 'center'\n  },\n  headerImage: {\n    width: 26,\n    height: 26,\n    marginHorizontal: 10\n  }\n});","map":{"version":3,"sources":["/Users/tche/Documents/swifty_companion/screens/login.js"],"names":["React","globalStyles","WebBrowser","Linking","FlatButton","Login","navigation","app_url","client_id","url","handleLogin","console","log","openBrowserAsync","addEventListener","event","data","parse","code","queryParams","dismissBrowser","navigate","require","styles","background","container","loginButton","headerImage","loginButtonText","StyleSheet","create","width","height","borderRadius","paddingVertical","paddingHorizontal","backgroundColor","alignItems","justifyContent","marginTop","flexDirection","color","fontWeight","textTransform","fontSize","textAlign","marginHorizontal"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { StyleSheet, View, Text, Image, TouchableOpacity, ImageBackground} from 'react-native';\nimport { globalStyles } from '../styles/global';\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Linking from 'expo-linking';\nimport FlatButton from '../shared/button.js';\n\nexport default function Login({ navigation }) {\n    const app_url = 'exp://10.18.205.228:19000'\n    const client_id = 'c0d296f87ad3d2fd9c1980da5f055fb4ee7fae41830be1f5d6985bea22b84a36'\n    const url = 'https://api.intra.42.fr/oauth/authorize?client_id=' + client_id + '&redirect_uri=' + app_url + '&response_type=code'\n\n\n    const handleLogin = async () => {\n        console.log(url);\n        WebBrowser.openBrowserAsync(url);\n        Linking.addEventListener('url', (event) => {\n            let data = Linking.parse(event.url);\n            let code = data.queryParams.code\n            console.log(code);\n\n            WebBrowser.dismissBrowser();\n            navigation.navigate('Home', {code: code})\n        })\n      }\n  \n    return (\n    <ImageBackground source={require('../assets/background.jpeg')} style={styles.background}>\n        <View style={globalStyles.container}>\n                <TouchableOpacity onPress={handleLogin}>\n                    <View style={styles.loginButton}>\n                        <Image source={require('../assets/42_Logo.png')} style={styles.headerImage} />\n                        <Text style={styles.loginButtonText}>Login</Text>\n                    </View>\n                </TouchableOpacity>\n        </View>\n    </ImageBackground>\n  );\n}\n\nconst styles = StyleSheet.create({\n    background: {\n        width: '100%',\n        height: '100%',\n    },\n    loginButton: {     \n        borderRadius: 8,\n        paddingVertical: 14,\n        paddingHorizontal: 10,\n        backgroundColor: '#00AFB1',\n        alignItems: 'center',\n        justifyContent: 'center',\n        marginTop: 200,\n        flexDirection: 'row',\n      },\n      loginButtonText: {\n        color: 'white',\n        fontWeight: 'bold',\n        textTransform: 'uppercase',\n        fontSize: 16,\n        textAlign: 'center',\n      },\n      headerImage: {\n        width: 26,\n        height: 26,\n        marginHorizontal: 10\n      },\n  })"]},"metadata":{},"sourceType":"module"}